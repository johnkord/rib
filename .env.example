###############################################
# RIB Example Environment Configuration
# Copy to .env and EDIT secure values before running in public / prod
###############################################

# Logging verbosity (info, debug, warn, error)
RUST_LOG=info

# JWT secret (HS256). MUST be >=32 chars (recommend 48+ random bytes base64)
# Generate: openssl rand -base64 48
JWT_SECRET=CHANGE_ME_GENERATE_A_SECURE_SECRET

# Postgres connection string
DATABASE_URL=postgres://postgres:postgres@localhost:5432/rib

# Redis (currently optional; reserved for future caching / rate limit distribution)
REDIS_URL=redis://localhost:6379

# S3 / MinIO configuration
S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_BUCKET=rib-images
# S3_REGION optional (defaults us-east-1)
# S3_REGION=us-east-1

# Frontend origin (for CORS); when using embedded assets can remain localhost
FRONTEND_URL=http://localhost:8080

# Enable HSTS (set true ONLY behind HTTPS in production)
ENABLE_HSTS=false

# Discord OAuth (optional)
# Create application at https://discord.com/developers/applications
DISCORD_CLIENT_ID=
DISCORD_CLIENT_SECRET=
DISCORD_REDIRECT_URI=http://localhost:8080/api/v1/auth/discord/callback

# Bootstrap admin Discord IDs (comma-separated numeric IDs)
BOOTSTRAP_ADMIN_DISCORD_IDS=

# In-memory rate limiting (enable = 1/true)
RL_ENABLED=false
RL_THREAD_LIMIT=1
RL_THREAD_WINDOW=300
RL_REPLY_LIMIT=10
RL_REPLY_WINDOW=60
RL_IMAGE_LIMIT=5
RL_IMAGE_WINDOW=3600

# Reserved for future configuration layering
# RIB_PROFILE=dev

###############################################
# Notes:
# - Never commit a real JWT_SECRET
# - Rotate secrets periodically; plan for key IDs in future release
# - For production, move secrets to a manager (Kubernetes Secret, Vault, etc.)
###############################################
